<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Comprehensive Monitoring and Logging</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* General Styling */
        :root {
            --primary: #FF4500;
            --secondary: #FF6347;
            --accent: #4CAF50;
            --warning: #ff9800;
            --danger: #f44336;
            --dark: #333;
            --light: #fff;
            --card-bg: rgba(255, 255, 255, 0.15);
            --hover-bg: rgba(255, 255, 255, 0.25);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            text-align: center;
            padding: 20px;
            background: linear-gradient(to right, #FF4500, #FF6347, #FF7F50, #FF8C00, #FFA07A);
            color: #FFFFFF;
            animation: gradientShift 10s ease infinite;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% { background: linear-gradient(to right, #FF4500, #FF6347); }
            50% { background: linear-gradient(to right, #FF8C00, #FFA07A); }
            100% { background: linear-gradient(to right, #FF4500, #FF6347); }
        }

        .container {
            max-width: 1200px;
            margin: auto;
            padding: 30px;
            border-radius: 12px;
            background-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .container:hover {
            transform: scale(1.01);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        h2 {
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 10px;
        }

        p, ul {
            font-size: 1.1em;
            margin-bottom: 20px;
        }

        ul {
            text-align: left;
            margin: 0 auto;
            padding: 0;
            list-style-type: none;
            max-width: 700px;
        }

        ul li {
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        ul li i {
            margin-right: 10px;
            color: var(--accent);
        }

        .section {
            margin-bottom: 40px;
            padding: 20px;
            border-radius: 10px;
            background-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.2);
        }

        .log-box {
            text-align: left;
            margin: 20px auto;
            padding: 15px;
            border-radius: 6px;
            background-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            color: #FFFFFF;
            max-width: 100%;
            min-height: 100px;
            max-height: 300px;
            overflow-y: auto;
        }

        .log-box h3 {
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .log-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }

        .button {
            display: inline-block;
            padding: 12px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            font-size: 1em;
            transition: background-color 0.3s ease, transform 0.3s ease;
            font-weight: 600;
        }

        .button:hover {
            background-color: #45a049;
            transform: translateY(-2px);
        }

        .button.secondary {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .button.secondary:hover {
            background-color: rgba(255, 255, 255, 0.3);
        }

        .button.warning {
            background-color: var(--warning);
        }

        .button.warning:hover {
            background-color: #e68900;
        }

        .button.danger {
            background-color: var(--danger);
        }

        .button.danger:hover {
            background-color: #d32f2f;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-active {
            background-color: #4CAF50;
            box-shadow: 0 0 8px #4CAF50;
        }

        .status-inactive {
            background-color: #f44336;
        }

        .status-warning {
            background-color: #ff9800;
        }

        /* Dashboard Grid */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .dashboard-card {
            padding: 20px;
            border-radius: 10px;
            background-color: var(--card-bg);
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
            text-align: left;
        }

        .dashboard-card:hover {
            background-color: var(--hover-bg);
            transform: translateY(-5px);
        }

        .dashboard-card h3 {
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .metric {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }

        .metric-trend {
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .trend-up {
            color: #4CAF50;
        }

        .trend-down {
            color: #f44336;
        }

        /* Chart Container */
        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }

        /* Log Entry */
        .log-entry {
            padding: 10px;
            margin: 8px 0;
            border-radius: 4px;
            background-color: rgba(0, 0, 0, 0.2);
            font-family: monospace;
            font-size: 0.9em;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .log-time {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8em;
            min-width: 120px;
        }

        .log-message {
            flex-grow: 1;
            text-align: left;
            margin: 0 10px;
        }

        .log-level {
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.8em;
            font-weight: bold;
        }

        .level-info {
            background-color: rgba(76, 175, 80, 0.3);
        }

        .level-warning {
            background-color: rgba(255, 152, 0, 0.3);
        }

        .level-danger {
            background-color: rgba(244, 67, 54, 0.3);
        }

        /* Alert Banner */
        .alert-banner {
            padding: 15px;
            margin: 20px 0;
            border-radius: 6px;
            background-color: rgba(244, 67, 54, 0.3);
            border-left: 4px solid var(--danger);
            display: flex;
            justify-content: space-between;
            align-items: center;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.7; }
            100% { opacity: 1; }
        }

        /* Filter Controls */
        .filter-controls {
            display: flex;
            gap: 10px;
            margin: 15px 0;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-select {
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid rgba(255, 255, 255, 0.5);
            background: rgba(255, 255, 255, 0.2);
            color: white;
            outline: none;
        }

        .filter-select option {
            background-color: #333;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
            
            .log-actions {
                flex-direction: column;
            }
            
            .filter-controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-shield-alt"></i> Comprehensive Monitoring and Logging</h1>
        <p>Track activities, store logs securely, and monitor real-time security events with these features.</p>
        
        <!-- Status Dashboard -->
        <div class="dashboard-grid">
            <div class="dashboard-card">
                <h3><i class="fas fa-database"></i> System Status</h3>
                <div class="metric" id="systemStatus">Operational</div>
                <div class="metric-trend trend-up">
                    <i class="fas fa-check-circle"></i> All systems normal
                </div>
            </div>
            <div class="dashboard-card">
                <h3><i class="fas fa-exclamation-triangle"></i> Active Alerts</h3>
                <div class="metric" id="activeAlerts">2</div>
                <div class="metric-trend trend-down">
                    <i class="fas fa-arrow-down"></i> 1 resolved in last hour
                </div>
            </div>
            <div class="dashboard-card">
                <h3><i class="fas fa-chart-line"></i> Log Volume</h3>
                <div class="metric" id="logVolume">1,247</div>
                <div class="metric-trend trend-up">
                    <i class="fas fa-arrow-up"></i> 12% increase today
                </div>
            </div>
            <div class="dashboard-card">
                <h3><i class="fas fa-clock"></i> Uptime</h3>
                <div class="metric" id="uptime">99.98%</div>
                <div class="metric-trend trend-up">
                    <i class="fas fa-check-circle"></i> 30 days without issues
                </div>
            </div>
        </div>

        <!-- Alert Banner -->
        <div class="alert-banner" id="alertBanner" style="display: none;">
            <div>
                <i class="fas fa-exclamation-circle"></i>
                <span id="alertMessage">Security alert: Suspicious activity detected</span>
            </div>
            <button class="button secondary" onclick="dismissAlert()">Dismiss</button>
        </div>
        
        <!-- Audit Logging Section -->
        <div class="section" id="audit-logging">
            <h2><i class="fas fa-clipboard-list"></i> Audit Logging</h2>
            <p>Track all database activities, including logins, queries, data changes, and schema modifications.</p>
            <ul>
                <li><i class="fas fa-user-check"></i> <strong>Logins:</strong> Monitor user access and authentication events.</li>
                <li><i class="fas fa-search"></i> <strong>Queries:</strong> Record database queries for transparency and debugging.</li>
                <li><i class="fas fa-edit"></i> <strong>Changes:</strong> Track modifications to data and schemas with full change history.</li>
            </ul>
            
            <div class="chart-container">
                <canvas id="auditChart"></canvas>
            </div>
            
            <div class="log-box">
                <h3>Recent Audit Events 
                    <span class="log-actions">
                        <button class="button secondary" onclick="refreshAuditLogs()"><i class="fas fa-sync-alt"></i> Refresh</button>
                        <button class="button warning" onclick="exportAuditLogs()"><i class="fas fa-download"></i> Export</button>
                    </span>
                </h3>
                <div id="audit-log">
                    <!-- Audit logs will be populated here -->
                </div>
            </div>
            <button class="button" onclick="viewAuditLogs()"><i class="fas fa-eye"></i> View Detailed Audit Logs</button>
        </div>

        <!-- Secure Log Storage Section -->
        <div class="section" id="secure-log-storage">
            <h2><i class="fas fa-lock"></i> Secure Log Storage</h2>
            <p>Store audit logs securely and protect them from tampering or unauthorized access.</p>
            <ul>
                <li><i class="fas fa-key"></i> <strong>Encryption:</strong> All logs are encrypted using AES-256 for maximum security.</li>
                <li><i class="fas fa-user-lock"></i> <strong>Access Control:</strong> Restricted access based on user roles with multi-factor authentication.</li>
                <li><i class="fas fa-shield-check"></i> <strong>Integrity Checks:</strong> Cryptographic hashing ensures logs are not modified or deleted.</li>
            </ul>
            
            <div class="filter-controls">
                <select class="filter-select" id="logTypeFilter" onchange="filterLogs()">
                    <option value="all">All Log Types</option>
                    <option value="security">Security Logs</option>
                    <option value="system">System Logs</option>
                    <option value="application">Application Logs</option>
                </select>
                <select class="filter-select" id="dateFilter" onchange="filterLogs()">
                    <option value="today">Today</option>
                    <option value="week">Last 7 Days</option>
                    <option value="month">Last 30 Days</option>
                    <option value="all">All Time</option>
                </select>
                <input type="text" class="filter-select" id="searchLogs" placeholder="Search logs..." onkeyup="filterLogs()">
            </div>
            
            <div class="log-box">
                <h3>Secure Log Storage 
                    <span class="log-actions">
                        <button class="button secondary" onclick="refreshSecureLogs()"><i class="fas fa-sync-alt"></i> Refresh</button>
                        <button class="button danger" onclick="clearSecureLogs()"><i class="fas fa-trash"></i> Clear All</button>
                    </span>
                </h3>
                <div id="secure-log">
                    <!-- Secure logs will be populated here -->
                </div>
            </div>
            <button class="button" onclick="accessSecureLogs()"><i class="fas fa-unlock"></i> Access Secure Logs</button>
        </div>

        <!-- Real-Time Monitoring Section -->
        <div class="section" id="real-time-monitoring">
            <h2><i class="fas fa-broadcast-tower"></i> Real-Time Monitoring</h2>
            <p>Stay updated with real-time detection of suspicious activities and critical security events.</p>
            <ul>
                <li><i class="fas fa-bell"></i> <strong>Alerts:</strong> Receive immediate notifications for abnormal activities.</li>
                <li><i class="fas fa-chart-bar"></i> <strong>Event Tracking:</strong> Monitor security events as they happen with live dashboards.</li>
                <li><i class="fas fa-robot"></i> <strong>Incident Response:</strong> Trigger automated actions for rapid threat mitigation.</li>
            </ul>
            
            <div class="chart-container">
                <canvas id="monitoringChart"></canvas>
            </div>
            
            <div class="log-box">
                <h3>Live Monitoring Log 
                    <span>
                        <span class="status-indicator" id="connectionStatus"></span>
                        <span id="connectionText">Connecting...</span>
                    </span>
                </h3>
                <div id="monitoring-log">
                    <!-- Monitoring logs will be populated here -->
                </div>
            </div>
            
            <div class="log-actions">
                <button class="button secondary" id="startMonitoring" onclick="startMonitoring()"><i class="fas fa-play"></i> Start Monitoring</button>
                <button class="button warning" id="pauseMonitoring" onclick="pauseMonitoring()" disabled><i class="fas fa-pause"></i> Pause Monitoring</button>
                <button class="button danger" id="stopMonitoring" onclick="stopMonitoring()" disabled><i class="fas fa-stop"></i> Stop Monitoring</button>
            </div>
        </div>
    </div>

    <script>
        // Application State
        const appState = {
            monitoringActive: false,
            monitoringInterval: null,
            logs: [],
            secureLogs: [],
            auditLogs: [],
            connectionStatus: 'disconnected'
        };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            generateSampleData();
            updateDashboard();
            startMonitoring(); // Auto-start monitoring
        });

        // Initialize Charts
        function initializeCharts() {
            // Audit Chart
            const auditCtx = document.getElementById('auditChart').getContext('2d');
            window.auditChart = new Chart(auditCtx, {
                type: 'bar',
                data: {
                    labels: ['Logins', 'Queries', 'Data Changes', 'Schema Changes', 'Security Events'],
                    datasets: [{
                        label: 'Events (Last 24h)',
                        data: [45, 128, 32, 8, 12],
                        backgroundColor: [
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(75, 192, 192, 0.7)',
                            'rgba(255, 159, 64, 0.7)',
                            'rgba(153, 102, 255, 0.7)',
                            'rgba(255, 99, 132, 0.7)'
                        ],
                        borderColor: [
                            'rgba(54, 162, 235, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(255, 159, 64, 1)',
                            'rgba(153, 102, 255, 1)',
                            'rgba(255, 99, 132, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    }
                }
            });

            // Monitoring Chart
            const monitoringCtx = document.getElementById('monitoringChart').getContext('2d');
            window.monitoringChart = new Chart(monitoringCtx, {
                type: 'line',
                data: {
                    labels: ['10:00', '10:15', '10:30', '10:45', '11:00', '11:15', '11:30'],
                    datasets: [{
                        label: 'Security Events',
                        data: [2, 5, 8, 3, 12, 6, 9],
                        borderColor: 'rgba(255, 99, 132, 1)',
                        backgroundColor: 'rgba(255, 99, 132, 0.1)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'System Events',
                        data: [15, 22, 18, 25, 20, 30, 28],
                        borderColor: 'rgba(54, 162, 235, 1)',
                        backgroundColor: 'rgba(54, 162, 235, 0.1)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    }
                }
            });
        }

        // Generate Sample Data
        function generateSampleData() {
            // Generate sample audit logs
            const auditEvents = [
                { time: new Date(), level: 'info', message: 'User admin logged in successfully', type: 'login' },
                { time: new Date(Date.now() - 300000), level: 'info', message: 'SELECT query executed on customers table', type: 'query' },
                { time: new Date(Date.now() - 600000), level: 'warning', message: 'Failed login attempt for user jsmith', type: 'login' },
                { time: new Date(Date.now() - 900000), level: 'info', message: 'Schema updated: added new column to products table', type: 'schema' },
                { time: new Date(Date.now() - 1200000), level: 'info', message: 'Data updated: modified pricing for 5 products', type: 'data' }
            ];
            
            appState.auditLogs = auditEvents;
            renderAuditLogs();
            
            // Generate sample secure logs
            const secureEvents = [
                { time: new Date(), level: 'info', message: 'Log archive created for 2023-11-15', type: 'system' },
                { time: new Date(Date.now() - 3600000), level: 'warning', message: 'Unusual access pattern detected from IP 192.168.1.105', type: 'security' },
                { time: new Date(Date.now() - 7200000), level: 'info', message: 'Daily integrity check completed - no issues found', type: 'system' },
                { time: new Date(Date.now() - 10800000), level: 'danger', message: 'Failed encryption attempt on log file access_log_20231114', type: 'security' },
                { time: new Date(Date.now() - 14400000), level: 'info', message: 'Backup completed for all log files', type: 'system' }
            ];
            
            appState.secureLogs = secureEvents;
            renderSecureLogs();
            
            // Generate initial monitoring logs
            appState.logs = [
                { time: new Date(), level: 'info', message: 'Monitoring system initialized' },
                { time: new Date(Date.now() - 5000), level: 'info', message: 'Connected to database servers' },
                { time: new Date(Date.now() - 10000), level: 'warning', message: 'High CPU usage detected on server DB-02' }
            ];
            renderMonitoringLogs();
        }

        // Update Dashboard Metrics
        function updateDashboard() {
            // In a real application, these would come from an API
            document.getElementById('activeAlerts').textContent = Math.floor(Math.random() * 5);
            document.getElementById('logVolume').textContent = (1247 + Math.floor(Math.random() * 100)).toLocaleString();
            
            // Randomly trigger alerts occasionally
            if (Math.random() > 0.7) {
                showAlert('Suspicious activity detected from IP 192.168.1.203');
            }
        }

        // Alert Functions
        function showAlert(message) {
            document.getElementById('alertMessage').textContent = message;
            document.getElementById('alertBanner').style.display = 'flex';
        }

        function dismissAlert() {
            document.getElementById('alertBanner').style.display = 'none';
        }

        // Monitoring Functions
        function startMonitoring() {
            if (appState.monitoringActive) return;
            
            appState.monitoringActive = true;
            document.getElementById('startMonitoring').disabled = true;
            document.getElementById('pauseMonitoring').disabled = false;
            document.getElementById('stopMonitoring').disabled = false;
            
            updateConnectionStatus('connected', 'Connected to monitoring service');
            
            // Simulate WebSocket connection
            appState.monitoringInterval = setInterval(() => {
                // Generate random monitoring events
                const events = [
                    'User authentication successful',
                    'Database query executed',
                    'New user session started',
                    'Data export completed',
                    'Security scan initiated',
                    'Backup process started',
                    'System performance normal',
                    'Network latency detected',
                    'Firewall rule updated',
                    'Security policy applied'
                ];
                
                const levels = ['info', 'warning', 'danger'];
                const weights = [0.7, 0.2, 0.1]; // 70% info, 20% warning, 10% danger
                
                let level = 'info';
                const rand = Math.random();
                if (rand < weights[0]) level = 'info';
                else if (rand < weights[0] + weights[1]) level = 'warning';
                else level = 'danger';
                
                const message = events[Math.floor(Math.random() * events.length)];
                
                // Add to logs
                appState.logs.unshift({
                    time: new Date(),
                    level: level,
                    message: message
                });
                
                // Keep only last 50 logs
                if (appState.logs.length > 50) {
                    appState.logs.pop();
                }
                
                renderMonitoringLogs();
                
                // Occasionally trigger alerts for danger events
                if (level === 'danger' && Math.random() > 0.5) {
                    showAlert(`Security alert: ${message}`);
                }
                
                // Update dashboard occasionally
                if (Math.random() > 0.8) {
                    updateDashboard();
                }
                
                // Update charts with new data
                updateCharts();
                
            }, 2000); // New event every 2 seconds
        }

        function pauseMonitoring() {
            if (!appState.monitoringActive) return;
            
            clearInterval(appState.monitoringInterval);
            appState.monitoringActive = false;
            document.getElementById('startMonitoring').disabled = false;
            document.getElementById('pauseMonitoring').disabled = true;
            
            updateConnectionStatus('warning', 'Monitoring paused');
        }

        function stopMonitoring() {
            clearInterval(appState.monitoringInterval);
            appState.monitoringActive = false;
            document.getElementById('startMonitoring').disabled = false;
            document.getElementById('pauseMonitoring').disabled = true;
            document.getElementById('stopMonitoring').disabled = true;
            
            updateConnectionStatus('disconnected', 'Monitoring stopped');
            
            // Add a log entry
            appState.logs.unshift({
                time: new Date(),
                level: 'info',
                message: 'Monitoring service stopped by user'
            });
            renderMonitoringLogs();
        }

        function updateConnectionStatus(status, text) {
            const indicator = document.getElementById('connectionStatus');
            const textElement = document.getElementById('connectionText');
            
            appState.connectionStatus = status;
            
            if (status === 'connected') {
                indicator.className = 'status-indicator status-active';
                textElement.textContent = text;
            } else if (status === 'warning') {
                indicator.className = 'status-indicator status-warning';
                textElement.textContent = text;
            } else {
                indicator.className = 'status-indicator status-inactive';
                textElement.textContent = text;
            }
        }

        // Update Charts with New Data
        function updateCharts() {
            // Update audit chart with random variations
            const auditData = window.auditChart.data.datasets[0].data;
            for (let i = 0; i < auditData.length; i++) {
                auditData[i] = Math.max(0, auditData[i] + Math.floor(Math.random() * 5 - 2));
            }
            window.auditChart.update();
            
            // Update monitoring chart with new data point
            const monitoringData1 = window.monitoringChart.data.datasets[0].data;
            const monitoringData2 = window.monitoringChart.data.datasets[1].data;
            
            // Shift data and add new point
            monitoringData1.shift();
            monitoringData2.shift();
            
            monitoringData1.push(Math.floor(Math.random() * 15));
            monitoringData2.push(15 + Math.floor(Math.random() * 20));
            
            // Update labels
            const now = new Date();
            const timeStr = now.getHours() + ':' + (now.getMinutes() < 10 ? '0' : '') + now.getMinutes();
            const labels = window.monitoringChart.data.labels;
            labels.shift();
            labels.push(timeStr);
            
            window.monitoringChart.update();
        }

        // Render Functions
        function renderMonitoringLogs() {
            const container = document.getElementById('monitoring-log');
            container.innerHTML = '';
            
            appState.logs.forEach(log => {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                
                const timeStr = log.time.toLocaleTimeString();
                const levelClass = `level-${log.level}`;
                
                logEntry.innerHTML = `
                    <div class="log-time">${timeStr}</div>
                    <div class="log-message">${log.message}</div>
                    <div class="log-level ${levelClass}">${log.level.toUpperCase()}</div>
                `;
                
                container.appendChild(logEntry);
            });
        }

        function renderAuditLogs() {
            const container = document.getElementById('audit-log');
            container.innerHTML = '';
            
            appState.auditLogs.forEach(log => {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                
                const timeStr = log.time.toLocaleTimeString();
                const levelClass = `level-${log.level}`;
                
                logEntry.innerHTML = `
                    <div class="log-time">${timeStr}</div>
                    <div class="log-message">${log.message}</div>
                    <div class="log-level ${levelClass}">${log.type.toUpperCase()}</div>
                `;
                
                container.appendChild(logEntry);
            });
        }

        function renderSecureLogs() {
            const container = document.getElementById('secure-log');
            container.innerHTML = '';
            
            appState.secureLogs.forEach(log => {
                const logEntry = document.createElement('div');
                logEntry.className = 'log-entry';
                
                const timeStr = log.time.toLocaleDateString() + ' ' + log.time.toLocaleTimeString();
                const levelClass = `level-${log.level}`;
                
                logEntry.innerHTML = `
                    <div class="log-time">${timeStr}</div>
                    <div class="log-message">${log.message}</div>
                    <div class="log-level ${levelClass}">${log.type.toUpperCase()}</div>
                `;
                
                container.appendChild(logEntry);
            });
        }

        // Action Functions
        function viewAuditLogs() {
            alert('Opening detailed audit log viewer...');
            // In a real application, this would open a modal or navigate to a detailed page
        }

        function refreshAuditLogs() {
            // Simulate refreshing audit logs
            const newLog = {
                time: new Date(),
                level: 'info',
                message: 'Audit log refresh completed',
                type: 'system'
            };
            
            appState.auditLogs.unshift(newLog);
            renderAuditLogs();
            
            // Show temporary notification
            showTemporaryMessage('Audit logs refreshed successfully');
        }

        function exportAuditLogs() {
            alert('Exporting audit logs...');
            // In a real application, this would trigger a download
        }

        function accessSecureLogs() {
            alert('Accessing secure logs with enhanced authentication...');
            // In a real application, this would require additional authentication
        }

        function refreshSecureLogs() {
            // Simulate refreshing secure logs
            const newLog = {
                time: new Date(),
                level: 'info',
                message: 'Secure log storage refreshed',
                type: 'system'
            };
            
            appState.secureLogs.unshift(newLog);
            renderSecureLogs();
            
            // Show temporary notification
            showTemporaryMessage('Secure logs refreshed successfully');
        }

        function clearSecureLogs() {
            if (confirm('Are you sure you want to clear all secure logs? This action cannot be undone.')) {
                appState.secureLogs = [];
                renderSecureLogs();
                showTemporaryMessage('All secure logs have been cleared');
            }
        }

        function filterLogs() {
            // This would filter logs based on the selected criteria
            showTemporaryMessage('Logs filtered based on your criteria');
        }

        function showTemporaryMessage(message) {
            // Create a temporary notification
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                background-color: rgba(76, 175, 80, 0.9);
                color: white;
                border-radius: 6px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.3);
                z-index: 1000;
                font-weight: 600;
            `;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            // Remove after 3 seconds
            setTimeout(() => {
                document.body.removeChild(notification);
            }, 3000);
        }
    </script>
</body>
</html>