<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Network Monitoring Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        /* Reusing Dashboard CSS */
        body {
            font-family: 'Roboto', sans-serif;
            text-align: center;
            padding: 20px;
            background: linear-gradient(to right, #FF4500, #FF6347, #FF7F50, #FF8C00, #FFA07A);
            color: #FFFFFF;
            animation: gradientShift 10s ease infinite;
            margin: 0;
            min-height: 100vh;
        }

        @keyframes gradientShift {
            0% { background: linear-gradient(to right, #FF4500, #FF6347); }
            50% { background: linear-gradient(to right, #FF8C00, #FFA07A); }
            100% { background: linear-gradient(to right, #FF4500, #FF6347); }
        }

        .monitoring-container {
            max-width: 1200px;
            margin: auto;
            padding: 30px;
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.1);
            box-shadow: 0px 8px 15px rgba(0, 0, 0, 0.3);
            transition: transform 0.3s ease;
        }

        .monitoring-container:hover {
            transform: scale(1.01);
        }

        h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        p {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .network-box {
            text-align: left;
            margin: 20px auto;
            padding: 15px;
            border-radius: 6px;
            background-color: rgba(255, 255, 255, 0.2);
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.3);
            color: #FFFFFF;
            max-width: 100%;
        }

        .network-box h3 {
            margin-bottom: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding-bottom: 5px;
        }

        .button {
            display: inline-block;
            padding: 12px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            text-decoration: none;
            font-size: 1em;
            transition: background-color 0.3s ease, transform 0.3s ease;
            margin: 5px;
        }

        .button:hover {
            background-color: #45a049;
            transform: translateY(-2px);
        }

        .button.stop {
            background-color: #f44336;
        }

        .button.stop:hover {
            background-color: #d32f2f;
        }

        .button.refresh {
            background-color: #2196F3;
        }

        .button.refresh:hover {
            background-color: #1976D2;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-active {
            background-color: #4CAF50;
            box-shadow: 0 0 8px #4CAF50;
        }

        .status-inactive {
            background-color: #f44336;
        }

        .chart-container {
            position: relative;
            height: 300px;
            margin: 20px 0;
        }

        .controls {
            margin: 20px 0;
        }

        .alert {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            background-color: rgba(255, 0, 0, 0.2);
            border-left: 4px solid #f44336;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .device-list {
            max-height: 200px;
            overflow-y: auto;
            margin-top: 10px;
            padding: 10px;
            background-color: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .device-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .incident-list {
            margin-top: 10px;
        }

        .incident-item {
            padding: 8px;
            margin: 5px 0;
            background-color: rgba(255, 0, 0, 0.2);
            border-radius: 4px;
            font-size: 0.9em;
        }

        .incident-time {
            font-size: 0.8em;
            color: rgba(255, 255, 255, 0.7);
        }
    </style>
</head>
<body>
    <div class="monitoring-container">
        <h1>Network Monitoring Dashboard</h1>
        <p>Monitor network activity and ensure performance, stability, and security in real-time.</p>

        <div class="controls">
            <button class="button" id="startBtn">Start Monitoring</button>
            <button class="button stop" id="stopBtn" disabled>Stop Monitoring</button>
            <button class="button refresh" id="refreshBtn">Refresh Data</button>
            <span id="statusIndicator" class="status-indicator status-inactive"></span>
            <span id="statusText">Monitoring Inactive</span>
        </div>

        <div class="grid-container">
            <!-- Section for Network Overview -->
            <div class="network-box" id="network-overview">
                <h3>Network Overview:</h3>
                <ul>
                    <li>Connected Devices: <strong id="connectedDevices">42</strong></li>
                    <li>Data Usage (Last Hour): <strong id="dataUsage">120 GB</strong></li>
                    <li>Average Latency: <strong id="avgLatency">56 ms</strong></li>
                    <li>Packet Loss: <strong id="packetLoss">0.2%</strong></li>
                </ul>
                <div class="device-list" id="deviceList">
                    <!-- Device list will be populated by JavaScript -->
                </div>
            </div>

            <!-- Section for Bandwidth Monitoring -->
            <div class="network-box" id="bandwidth-monitoring">
                <h3>Bandwidth Monitoring:</h3>
                <ul>
                    <li>Current Bandwidth Utilization: <strong id="currentUtilization">78%</strong></li>
                    <li>Peak Bandwidth Usage: <strong id="peakUsage">92%</strong></li>
                    <li>Remaining Capacity: <strong id="remainingCapacity">22%</strong></li>
                </ul>
                <div class="chart-container">
                    <canvas id="bandwidthChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Section for Traffic Analysis -->
        <div class="network-box" id="traffic-analysis">
            <h3>Traffic Analysis:</h3>
            <ul>
                <li>HTTP Requests: <strong id="httpRequests">120,000</strong></li>
                <li>HTTPS Requests: <strong id="httpsRequests">98,000</strong></li>
                <li>DNS Queries: <strong id="dnsQueries">35,000</strong></li>
                <li>Suspicious Traffic Detected: <strong id="suspiciousTraffic">5 incidents</strong></li>
            </ul>
            <div class="chart-container">
                <canvas id="trafficChart"></canvas>
            </div>
            <div class="incident-list" id="incidentList">
                <!-- Incident list will be populated by JavaScript -->
            </div>
        </div>

        <!-- Alert Section -->
        <div id="alertSection" style="display: none;">
            <div class="alert">
                <strong>Alert:</strong> <span id="alertMessage"></span>
            </div>
        </div>
    </div>

    <script>
        // DOM Elements
        const startBtn = document.getElementById('startBtn');
        const stopBtn = document.getElementById('stopBtn');
        const refreshBtn = document.getElementById('refreshBtn');
        const statusIndicator = document.getElementById('statusIndicator');
        const statusText = document.getElementById('statusText');
        const alertSection = document.getElementById('alertSection');
        const alertMessage = document.getElementById('alertMessage');

        // Data elements
        const connectedDevices = document.getElementById('connectedDevices');
        const dataUsage = document.getElementById('dataUsage');
        const avgLatency = document.getElementById('avgLatency');
        const packetLoss = document.getElementById('packetLoss');
        const deviceList = document.getElementById('deviceList');
        const currentUtilization = document.getElementById('currentUtilization');
        const peakUsage = document.getElementById('peakUsage');
        const remainingCapacity = document.getElementById('remainingCapacity');
        const httpRequests = document.getElementById('httpRequests');
        const httpsRequests = document.getElementById('httpsRequests');
        const dnsQueries = document.getElementById('dnsQueries');
        const suspiciousTraffic = document.getElementById('suspiciousTraffic');
        const incidentList = document.getElementById('incidentList');

        // Chart instances
        let bandwidthChart, trafficChart;
        let monitoringInterval;

        // Initialize charts
        function initializeCharts() {
            // Bandwidth Chart
            const bandwidthCtx = document.getElementById('bandwidthChart').getContext('2d');
            bandwidthChart = new Chart(bandwidthCtx, {
                type: 'line',
                data: {
                    labels: ['10m', '8m', '6m', '4m', '2m', 'Now'],
                    datasets: [{
                        label: 'Bandwidth Utilization (%)',
                        data: [65, 70, 75, 78, 80, 78],
                        borderColor: '#4CAF50',
                        backgroundColor: 'rgba(76, 175, 80, 0.1)',
                        borderWidth: 2,
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    }
                }
            });

            // Traffic Chart
            const trafficCtx = document.getElementById('trafficChart').getContext('2d');
            trafficChart = new Chart(trafficCtx, {
                type: 'bar',
                data: {
                    labels: ['HTTP', 'HTTPS', 'DNS', 'FTP', 'SSH'],
                    datasets: [{
                        label: 'Requests',
                        data: [120, 98, 35, 12, 8],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.7)',
                            'rgba(54, 162, 235, 0.7)',
                            'rgba(255, 206, 86, 0.7)',
                            'rgba(75, 192, 192, 0.7)',
                            'rgba(153, 102, 255, 0.7)'
                        ],
                        borderColor: [
                            'rgba(255, 99, 132, 1)',
                            'rgba(54, 162, 235, 1)',
                            'rgba(255, 206, 86, 1)',
                            'rgba(75, 192, 192, 1)',
                            'rgba(153, 102, 255, 1)'
                        ],
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        },
                        x: {
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: 'white'
                            }
                        }
                    },
                    plugins: {
                        legend: {
                            labels: {
                                color: 'white'
                            }
                        }
                    }
                }
            });
        }

        // Generate random device data
        function generateDeviceData(count) {
            const devices = [];
            const deviceTypes = ['Desktop', 'Laptop', 'Mobile', 'Server', 'IoT Device'];
            const osTypes = ['Windows', 'macOS', 'Linux', 'iOS', 'Android'];
            
            for (let i = 0; i < count; i++) {
                const type = deviceTypes[Math.floor(Math.random() * deviceTypes.length)];
                const os = osTypes[Math.floor(Math.random() * osTypes.length)];
                const ip = `192.168.1.${Math.floor(Math.random() * 254) + 1}`;
                const status = Math.random() > 0.1 ? 'Online' : 'Offline';
                
                devices.push({
                    id: i + 1,
                    type: type,
                    os: os,
                    ip: ip,
                    status: status
                });
            }
            
            return devices;
        }

        // Generate random incident data
        function generateIncidentData(count) {
            const incidents = [];
            const incidentTypes = [
                'Suspicious port scanning detected',
                'Multiple failed login attempts',
                'Unusual traffic pattern from device',
                'Potential DDoS attack detected',
                'Malware signature detected in traffic'
            ];
            
            const now = new Date();
            
            for (let i = 0; i < count; i++) {
                const type = incidentTypes[Math.floor(Math.random() * incidentTypes.length)];
                const time = new Date(now - Math.random() * 24 * 60 * 60 * 1000);
                const severity = Math.random() > 0.7 ? 'High' : (Math.random() > 0.4 ? 'Medium' : 'Low');
                
                incidents.push({
                    type: type,
                    time: time,
                    severity: severity
                });
            }
            
            return incidents.sort((a, b) => b.time - a.time);
        }

        // Update network data
        function updateNetworkData() {
            // Update connected devices
            const deviceCount = Math.floor(Math.random() * 20) + 35;
            connectedDevices.textContent = deviceCount;
            
            // Update data usage
            const usage = (Math.random() * 50 + 100).toFixed(0);
            dataUsage.textContent = `${usage} GB`;
            
            // Update latency
            const latency = (Math.random() * 30 + 40).toFixed(0);
            avgLatency.textContent = `${latency} ms`;
            
            // Update packet loss
            const loss = (Math.random() * 0.3).toFixed(1);
            packetLoss.textContent = `${loss}%`;
            
            // Update device list
            const devices = generateDeviceData(deviceCount);
            deviceList.innerHTML = '';
            devices.forEach(device => {
                const deviceItem = document.createElement('div');
                deviceItem.className = 'device-item';
                deviceItem.innerHTML = `
                    <span>${device.type} (${device.ip})</span>
                    <span style="color: ${device.status === 'Online' ? '#4CAF50' : '#f44336'}">${device.status}</span>
                `;
                deviceList.appendChild(deviceItem);
            });
            
            // Update bandwidth data
            const utilization = Math.floor(Math.random() * 20 + 70);
            currentUtilization.textContent = `${utilization}%`;
            
            const peak = Math.max(utilization, parseInt(peakUsage.textContent) || 0);
            peakUsage.textContent = `${peak}%`;
            
            const remaining = 100 - utilization;
            remainingCapacity.textContent = `${remaining}%`;
            
            // Update bandwidth chart
            const bandwidthData = bandwidthChart.data.datasets[0].data;
            bandwidthData.shift();
            bandwidthData.push(utilization);
            bandwidthChart.update();
            
            // Update traffic data
            const http = Math.floor(Math.random() * 10000 + 115000);
            const https = Math.floor(Math.random() * 10000 + 90000);
            const dns = Math.floor(Math.random() * 5000 + 30000);
            
            httpRequests.textContent = http.toLocaleString();
            httpsRequests.textContent = https.toLocaleString();
            dnsQueries.textContent = dns.toLocaleString();
            
            // Update traffic chart
            trafficChart.data.datasets[0].data[0] = http / 1000;
            trafficChart.data.datasets[0].data[1] = https / 1000;
            trafficChart.data.datasets[0].data[2] = dns / 1000;
            trafficChart.update();
            
            // Randomly generate incidents
            if (Math.random() > 0.7) {
                const incidents = generateIncidentData(Math.floor(Math.random() * 3) + 1);
                suspiciousTraffic.textContent = `${incidents.length} incidents`;
                
                incidentList.innerHTML = '';
                incidents.forEach(incident => {
                    const incidentItem = document.createElement('div');
                    incidentItem.className = 'incident-item';
                    incidentItem.innerHTML = `
                        <div><strong>${incident.type}</strong></div>
                        <div class="incident-time">${incident.time.toLocaleString()} - Severity: ${incident.severity}</div>
                    `;
                    incidentList.appendChild(incidentItem);
                });
                
                // Show alert for high severity incidents
                const highSeverityIncidents = incidents.filter(i => i.severity === 'High');
                if (highSeverityIncidents.length > 0) {
                    showAlert(`High severity security incident detected: ${highSeverityIncidents[0].type}`);
                }
            }
        }

        // Show alert
        function showAlert(message) {
            alertMessage.textContent = message;
            alertSection.style.display = 'block';
            
            // Auto-hide alert after 5 seconds
            setTimeout(() => {
                alertSection.style.display = 'none';
            }, 5000);
        }

        // Start monitoring
        function startMonitoring() {
            statusIndicator.className = 'status-indicator status-active';
            statusText.textContent = 'Monitoring Active';
            startBtn.disabled = true;
            stopBtn.disabled = false;
            
            // Update data immediately
            updateNetworkData();
            
            // Set up interval for continuous updates
            monitoringInterval = setInterval(updateNetworkData, 3000);
            
            showAlert('Network monitoring started successfully');
        }

        // Stop monitoring
        function stopMonitoring() {
            statusIndicator.className = 'status-indicator status-inactive';
            statusText.textContent = 'Monitoring Inactive';
            startBtn.disabled = false;
            stopBtn.disabled = true;
            
            // Clear the update interval
            clearInterval(monitoringInterval);
            
            showAlert('Network monitoring stopped');
        }

        // Refresh data manually
        function refreshData() {
            updateNetworkData();
            showAlert('Data refreshed successfully');
        }

        // Event listeners
        startBtn.addEventListener('click', startMonitoring);
        stopBtn.addEventListener('click', stopMonitoring);
        refreshBtn.addEventListener('click', refreshData);

        // Initialize the dashboard
        document.addEventListener('DOMContentLoaded', function() {
            initializeCharts();
            updateNetworkData(); // Initial data load
        });
    </script>
</body>
</html>